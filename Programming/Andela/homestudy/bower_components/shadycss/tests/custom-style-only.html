<!DOCTYPE html><html><head><script src="./test-flags.js"></script><script src="../node_modules/@webcomponents/webcomponents-platform/webcomponents-platform.js"></script><script src="../node_modules/es6-promise/dist/es6-promise.auto.min.js"></script><script src="../node_modules/@webcomponents/template/template.js"></script><script src="../node_modules/@webcomponents/html-imports/html-imports.min.js"></script><script>WCT={waitFor:function(cb){HTMLImports.whenReady(cb)}};</script><script src="../node_modules/@webcomponents/shadydom/shadydom.min.js"></script><script src="../node_modules/@webcomponents/custom-elements/custom-elements.min.js"></script><script src="../scoping-shim.min.js"></script><script src="../apply-shim.min.js"></script><script>if(window.customElements&&customElements.polyfillWrapFlushCallback){customElements.polyfillWrapFlushCallback(function(cb){HTMLImports.whenReady(cb)})}</script><script src="../custom-style-interface.min.js"></script><script src="module/generated/custom-style-element.js"></script><script src="../node_modules/wct-browser-legacy/browser.js"></script></head><body><custom-style id="indoc"><style>#target{display:block;@apply --late;}</style></custom-style><template id="late"><custom-style class="late-style"><style>html{--late:{border:2px solid red;};}</style></custom-style></template><div id="target"></div><script>suite("custom-style only",function(){var host=document.querySelector("#target");test("custom-style by itself works as expected",function(){assert.equal(getComputedStyle(host).getPropertyValue("display").trim(),"block")});test("late custom-style updates styling",function(done){var lateTemplate=document.querySelector("template#late");document.body.appendChild(document.importNode(lateTemplate.content,!0));requestAnimationFrame(function(){requestAnimationFrame(function(){assert.equal(getComputedStyle(host).borderTopWidth.trim(),"2px");done()})})})});</script></body></html>