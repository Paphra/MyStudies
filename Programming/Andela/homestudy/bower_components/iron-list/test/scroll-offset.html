<!DOCTYPE html><html><head><meta charset="UTF-8"><title>iron-list test</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><script src="../../webcomponentsjs/webcomponents-lite.js"></script><script src="../../web-component-tester/browser.js"></script><link rel="import" href="fixtures/helpers.html"><link rel="import" href="../iron-list.html"><style>body{margin:0;}header{background-color:#ddd;height:100px;padding:0 10px;}h1{margin:0;line-height:100px;}.item{box-sizing:border-box;height:50px;padding:10px;border-bottom:1px solid #ccc;}</style></head><body><test-fixture id="trivialList"><template><div><header>header</header><iron-list scroll-target="document" scroll-offset="100"><template><div class="item">[[index]]</div></template></iron-list></div></template></test-fixture><script>"use strict";suite("scrollOffset property",function(){var _Mathfloor=Math.floor,list,container;setup(function(){container=fixture("trivialList");list=container.querySelector("iron-list")});test("value",function(){list.items=buildDataSet(100);Polymer.dom.flush();assert.equal(list.scrollOffset,100)});test("firstVisibleIndex",function(done){list.items=buildDataSet(100);Polymer.dom.flush();window.scrollTo(0,1e3);requestAnimationFrame(function(){setTimeout(function(){var idx=_Mathfloor((window.pageYOffset-list.scrollOffset)/50);assert.equal(list.firstVisibleIndex,idx);done()})})});test("lastVisibleIndex",function(done){list.items=buildDataSet(100);Polymer.dom.flush();window.scrollTo(0,1e3);requestAnimationFrame(function(){setTimeout(function(){var idx=_Mathfloor((window.pageYOffset+window.innerHeight-list.scrollOffset)/50);assert.equal(list.lastVisibleIndex,idx);done()})})})});</script></body></html>